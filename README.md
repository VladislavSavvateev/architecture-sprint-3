# Задание 1

## Функциональность

Данное приложение обладает функциональностью управления системой отопления. Помимо управления есть функциональность
просмотра информации о текущем состоянии температурных датчиков.

## Архитектура

Данное приложение реализовано на языке Java с применением фреймворка Spring. Обрабатываемые приложением данные хранятся
в БД PostgreSQL, доступ к которой реализован с помощью ORM Jakarta. Приложение является монолитным. Все запросы к этому
приложению выполняются синхронно.

## Домены и границы контекстов

Можно выделить следующие домены:

- домен "Управление системами отопления"
- домен "Сбор данных с температурных датчиков"

## Анализ текущей архитектуры

### Доступ к данным

Данное приложение является исключительно однопользовательским: в нём не реализованы модель пользователя и принципы
авторизации. Из этого вытекает то, что доступ к данным никак не ограничен, что является некоторого рода уязвимостью.

### Хранение данных температурных датчиков

Данное приложение хранит данные температурных датчиков в той же БД, что и состояние систем отопления. Это может вызвать
проблемы производительности при большом количестве датчиков. Как мне кажется, одним из решений может стать перенос этих
данных в кэш (по типу Redis), где эти данные можно довольно быстро инвалидировать без ущерба общей производительности.

### Отсутствие более явных для пользователя идентификаторов сущностей

По ID датчика/системы отопления непонятно, что это за датчик/система, и где он установлен. Если добавить хотя бы
описание датчика, пользователю станет яснее общая картина. Если добавить сущность "Локация" и привязать датчики и
систему отопления к ней, то можно получить агрегированное управление и информирование.

### Необходимость в long-poll'инге состояния системой отопления

В данной реализации каждой системе отопления необходимо периодически опрашивать данное приложение, чтобы получить новое
состояние. В итоге взаимодействие системы отопления и данного приложения выглядит следующим образом:

- пользователь устанавливает новую температуру
- система отопления запрашивает новое значение (периодически)
- система отопления применяет новые параметры

Если реализовать обмен состоянием с помощью брокеров сообщений, таких как Kafka или MQTT, можно избавиться от
необходимости постоянно запрашивать новое состояние, а только реагировать на события изменения состояния в данном
приложении.

## Диаграмма контекста

Диаграмма уровня контекста: [Context.puml](Context.puml).


# Задание 2

Диаграмма уровня контейнеров: [Container.puml](Container.puml)

Диаграмма уровня компонентов: [Component.puml](Component.puml)

Диаграмма уровня кода: [Code.puml](Code.puml)


# Задание 3

ER-диаграмма: [ER.puml](ER.puml)
